{# Copyright (c) 2020 Ethan Nguyen. All rights reserved.  #}

{# This program is free software: you can redistribute it and/or modify #}
{# it under the terms of the GNU Affero General Public License as published by #}
{# the Free Software Foundation, either version 3 of the License, or #}
{# (at your option) any later version. #}

{# This program is distributed in the hope that it will be useful, #}
{# but WITHOUT ANY WARRANTY; without even the implied warranty of #}
{# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the #}
{# GNU Affero General Public License for more details. #}

{# You should have received a copy of the GNU Affero General Public License #}
{# along with this program.  If not, see <https://www.gnu.org/licenses/>. #}

{% extends "base.html" %}

{% block title %}Patient Portal{% endblock %}

{% block content %}
<h2>Welcome {{ first_name }}!</h2>

<h4>Upcoming Appointments</h4>
<table class="table">
    <thead>
        <th>Patient Name</th>
        <th>Date & Time</th>
        <th>Confirmed?</th>
        <th></th>
    </thead>
    <tbody>
        {% for appointment in appointment_list %}
            <tr>
                <td>{{ appointment.patient.first_name }} {{ appointment.patient.last_name }}</td>
                <td>{{ appointment.time|date:"D, M j Y f A" }}</td>
                <td>{% if appointment.confirmed %}<i class="fas fa-check-circle"></i>{% else %}<i class="fas fa-times-circle"></i>{% endif %} </td>
            </tr>
        {% empty %}
            <tr>
                <td>There are no appointments at this time.</td>
            </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}